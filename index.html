<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The french Economist</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="container">
        <!-- Header avec logo, titre et sous-titre -->
        <header class="header">
                <div class="logo">
                    <img src="TFE_logo.png" alt="Logo" class="logo-img">
                </div>
                <div class="header-content">
                    <!--
                    <h1 class="title">The french Economist</h1>
                    -->
                    <p class="subtitle">Les articles de The Economist traduits par une IA privée</p>    
                 </div>
        </header>

        <!-- Navigation des catégories -->
        <nav class="category-nav">
            <button class="category-btn active" data-category="tous">Tous </button>
            <button class="category-btn" data-category="Leaders">Leaders</button>
            <button class="category-btn" data-category="moyen-orient">Moyen Orient</button>
            <button class="category-btn" data-category="business">Business</button>
            <button class="category-btn" data-category="ukraine-at-war">Ukraine</button>
            <button class="category-btn" data-category="etats-unis">Etats-Unis</button>
            <button class="category-btn" data-category="International">International</button>
        </nav>

        <!-- Grille des articles -->
        <main class="articles-grid" id="articlesGrid">
            <!-- Les articles seront générés par JavaScript -->
        </main>
    </div>

    <script>
        // Données des articles
        const articles = [
            { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
    { id: {link["id"]}, title: "{link["title"]}", category: "{link["category"]}", date: "{link["date"]}", slug: "{link["slug"]}},
        ];

        // Élément de la grille
        const articlesGrid = document.getElementById('articlesGrid');
        const categoryButtons = document.querySelectorAll('.category-btn');

        // Fonction pour afficher les articles
        function displayArticles(categoryFilter = 'tous') {
            // Animation de sortie
            articlesGrid.classList.add('transitioning');
            
            setTimeout(() => {
                // Filtrer les articles
                const filteredArticles = categoryFilter === 'tous' 
                    ? articles 
                    : articles.filter(article => article.category === categoryFilter);

                // Générer le HTML
                articlesGrid.innerHTML = filteredArticles.map((article, index) => `
                    <a href="./${article.slug}" class="article-card" style="animation-delay: ${index * 0.1}s">
                        <div class="article-header">
                            <div class="article-date">${article.date}</div>
                            <span class="article-category" data-category="${article.category}" onclick="filterByCategory(event, '${article.category}')">${getCategoryLabel(article.category)}</span>
                        </div>
                        <h3 class="article-title">${article.title}</h3>
                    </a>
                `).join('');

                // Animation d'entrée
                articlesGrid.classList.remove('transitioning');
            }, 200);
        }

        // Fonction pour obtenir le label de catégorie en français
        function getCategoryLabel(category) {
            const labels = {
                'Leaders': 'Leaders',
                'ukraine-at-war': 'Ukraine',
                'business': 'Business',
                'lifestyle': 'Lifestyle',
                'science': 'Science',
                'International': 'International',
            };
            return labels[category] || category;
        }

        // Gestionnaire d'événements pour les boutons de catégorie
        categoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Retirer la classe active de tous les boutons
                categoryButtons.forEach(btn => btn.classList.remove('active'));
                
                // Ajouter la classe active au bouton cliqué
                button.classList.add('active');
                
                // Afficher les articles filtrés
                const category = button.dataset.category;
                displayArticles(category);
            });
        });

        // Fonction pour filtrer par catégorie depuis une carte
        function filterByCategory(event, category) {
            // Empêcher la propagation pour éviter de suivre le lien de la carte
            event.preventDefault();
            event.stopPropagation();
            
            // Retirer la classe active de tous les boutons
            categoryButtons.forEach(btn => btn.classList.remove('active'));
            
            // Ajouter la classe active au bouton correspondant
            const targetButton = document.querySelector(`[data-category="${category}"]`);
            if (targetButton) {
                targetButton.classList.add('active');
            }
            
            // Afficher les articles filtrés
            displayArticles(category);
        }

        // Affichage initial
        displayArticles();
    </script>
</body>
</html>
